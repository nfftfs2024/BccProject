SELECT COUNT(*)
  FROM bluetooth_2018feb A
LEFT OUTER JOIN ( SELECT B1.DEVICEID, COUNT(DISTINCT B1.DEVICEID, B1.AREAID) DACOUNT 
					FROM bluetooth_2018feb B1
				   WHERE B1.AREAID IN ('10175','10508','10439','10443')
				GROUP BY B1.DEVICEID ) B
			 ON (A.DEVICEID = B.DEVICEID)
 WHERE A.AREAID IN ('10175','10508','10439','10443')
   AND B.DACOUNT > 1
	